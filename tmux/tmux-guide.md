# Tmux ä½¿ç”¨æŒ‡å—

## ğŸ“– ç®€ä»‹

Tmux (Terminal Multiplexer) æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ç»ˆç«¯å¤ç”¨å·¥å…·ï¼Œè®©ä½ èƒ½åœ¨å•ä¸ªç»ˆç«¯çª—å£ä¸­ç®¡ç†å¤šä¸ªä¼šè¯ã€çª—å£å’Œçª—æ ¼ã€‚

## ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ

```
Session (ä¼šè¯)
  â””â”€â”€ Window (çª—å£)  â† ç±»ä¼¼æµè§ˆå™¨æ ‡ç­¾é¡µ
       â””â”€â”€ Pane (çª—æ ¼)  â† çª—å£çš„åˆ†å‰²åŒºåŸŸ
```

- **Session**: ä¸€ä¸ªç‹¬ç«‹çš„å·¥ä½œç¯å¢ƒï¼Œå¯ä»¥åŒ…å«å¤šä¸ªçª—å£
- **Window**: ä¸€ä¸ªå…¨å±ç»ˆç«¯è§†å›¾ï¼Œå¯ä»¥åˆ†å‰²æˆå¤šä¸ªçª—æ ¼
- **Pane**: çª—å£å†…çš„åˆ†å‰²åŒºåŸŸï¼Œæ¯ä¸ªéƒ½æ˜¯ç‹¬ç«‹çš„ç»ˆç«¯

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£… Tmux

```bash
# macOS
brew install tmux

# Ubuntu/Debian
sudo apt install tmux

# CentOS/RHEL
sudo yum install tmux
```

### åº”ç”¨é…ç½®æ–‡ä»¶

```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶åˆ°ä¸»ç›®å½•
cp .tmux.conf ~/.tmux.conf

# é‡æ–°åŠ è½½é…ç½®ï¼ˆåœ¨ tmux å†…ï¼‰
Ctrl+a r
```

## âŒ¨ï¸ å¿«æ·é”®é€ŸæŸ¥

> æ³¨æ„ï¼šæœ¬é…ç½®å°†å‰ç¼€é”®æ”¹ä¸º `Ctrl+a`ï¼ˆé»˜è®¤æ˜¯ `Ctrl+b`ï¼‰

### ä¼šè¯ç®¡ç†

```bash
# åˆ›å»ºæ–°ä¼šè¯
tmux new -s ä¼šè¯å

# åˆ—å‡ºæ‰€æœ‰ä¼šè¯
tmux ls

# è¿æ¥åˆ°ä¼šè¯
tmux attach -t ä¼šè¯å

# åˆ†ç¦»å½“å‰ä¼šè¯
Ctrl+a d

# åˆ é™¤ä¼šè¯
tmux kill-session -t ä¼šè¯å
```

### çª—å£æ“ä½œ

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `Ctrl+a c` | åˆ›å»ºæ–°çª—å£ |
| `Ctrl+a ,` | é‡å‘½åå½“å‰çª—å£ |
| `Ctrl+a w` | åˆ—å‡ºæ‰€æœ‰çª—å£ï¼ˆå¯é€‰æ‹©ï¼‰ |
| `Ctrl+a n` | ä¸‹ä¸€ä¸ªçª—å£ |
| `Ctrl+a p` | ä¸Šä¸€ä¸ªçª—å£ |
| `Ctrl+a 0-9` | åˆ‡æ¢åˆ°æŒ‡å®šç¼–å·çª—å£ |
| `Ctrl+a &` | å…³é—­å½“å‰çª—å£ |

### çª—æ ¼æ“ä½œ

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `Ctrl+a v` | å‚ç›´åˆ†å±ï¼ˆå·¦å³åˆ†å‰²ï¼‰ |
| `Ctrl+a b` | æ°´å¹³åˆ†å±ï¼ˆä¸Šä¸‹åˆ†å‰²ï¼‰ |
| `Alt+v` | å‚ç›´åˆ†å±ï¼ˆæ— å‰ç¼€é”®ï¼‰ |
| `Alt+b` | æ°´å¹³åˆ†å±ï¼ˆæ— å‰ç¼€é”®ï¼‰ |
| `Alt+h/j/k/l` | å¿«é€Ÿåˆ‡æ¢çª—æ ¼ï¼ˆæ— å‰ç¼€é”®ï¼‰ |
| `Ctrl+a o` | å¾ªç¯åˆ‡æ¢çª—æ ¼ |
| `Alt+o` | æ—‹è½¬çª—æ ¼ä½ç½® |
| `Alt+x` | å…³é—­å½“å‰çª—æ ¼ |
| `Ctrl+a z` | æœ€å¤§åŒ–/è¿˜åŸå½“å‰çª—æ ¼ |

### å…¶ä»–æ“ä½œ

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `Ctrl+a z` | æœ€å¤§åŒ–/è¿˜åŸå½“å‰çª—æ ¼ |
| `Ctrl+a r` | é‡æ–°åŠ è½½é…ç½® |
| `Ctrl+a ?` | æ˜¾ç¤ºæ‰€æœ‰å¿«æ·é”® |

## ğŸ’¡ å®ç”¨æŠ€å·§

### 1. å¿«é€Ÿåˆ‡æ¢ä¼šè¯

```bash
# åœ¨ tmux å†…åˆ‡æ¢ä¼šè¯
Ctrl+a s  # æ˜¾ç¤ºä¼šè¯åˆ—è¡¨
```

### 2. åŒæ­¥çª—æ ¼è¾“å…¥

```bash
# åœ¨å¤šä¸ªçª—æ ¼åŒæ—¶æ‰§è¡Œç›¸åŒå‘½ä»¤
Ctrl+a :setw synchronize-panes on   # å¼€å¯
Ctrl+a :setw synchronize-panes off  # å…³é—­
```

### 3. æœç´¢å†å²è¾“å‡º

```bash
# è¿›å…¥å¤åˆ¶æ¨¡å¼å
Ctrl+a [
ç„¶åæŒ‰ / æœç´¢å‘ä¸‹ï¼Œ? æœç´¢å‘ä¸Š
```

### 4. åˆ›å»ºå‘½åä¼šè¯çš„å¿«æ·æ–¹å¼

```bash
# åœ¨ ~/.bashrc æˆ– ~/.zshrc ä¸­æ·»åŠ 
alias tdev='tmux new -s dev'
alias twork='tmux new -s work'
```

### 5. æŸ¥çœ‹æ‰€æœ‰å¿«æ·é”®

```bash
Ctrl+a ?  # æ˜¾ç¤ºæ‰€æœ‰å¿«æ·é”®åˆ—è¡¨
```

## ğŸ”§ å¸¸è§é—®é¢˜

### 1. é¢œè‰²æ˜¾ç¤ºå¼‚å¸¸

åœ¨ `~/.bashrc` æˆ– `~/.zshrc` ä¸­æ·»åŠ ï¼š

```bash
export TERM=xterm-256color
```

### 2. é¼ æ ‡æ»šåŠ¨ä¸å·¥ä½œ

ç¡®ä¿é…ç½®æ–‡ä»¶ä¸­æœ‰ `set -g mouse on`ï¼Œå·²åœ¨æœ¬é…ç½®ä¸­å¯ç”¨ã€‚

### 3. macOS å‰ªè´´æ¿é›†æˆ

```bash
# å®‰è£…å·¥å…·
brew install reattach-to-user-namespace

# åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ï¼ˆå¦‚éœ€è¦ï¼‰
set -g default-command "reattach-to-user-namespace -l $SHELL"
```

### 4. é…ç½®æœªç”Ÿæ•ˆ

```bash
# ç¡®ä¿é…ç½®æ–‡ä»¶ä½ç½®æ­£ç¡®
ls -la ~/.tmux.conf

# é‡æ–°åŠ è½½é…ç½®
Ctrl+a r
# æˆ–å®Œå…¨é‡å¯ tmux
tmux kill-server
```

## ğŸ“Š å·¥ä½œæµç¤ºä¾‹

### å¼€å‘ç¯å¢ƒ

```bash
# åˆ›å»ºå¼€å‘ä¼šè¯
tmux new -s dev

# åˆ†å‰²çª—æ ¼
Ctrl+a v  # å‚ç›´åˆ†å±ï¼ˆå·¦å³åˆ†å‰²ï¼‰
Ctrl+a b  # æ°´å¹³åˆ†å±ï¼ˆä¸Šä¸‹åˆ†å‰²ï¼‰
# æˆ–ä½¿ç”¨ Alt å¿«æ·é”®ï¼ˆæ— éœ€å‰ç¼€ï¼‰
Alt+v     # å‚ç›´åˆ†å±
Alt+b     # æ°´å¹³åˆ†å±

# å¸ƒå±€ï¼š
# +-------------------+----------+
# |                   |   æ—¥å¿—   |
# |   ä»£ç ç¼–è¾‘å™¨      |          |
# |                   +----------+
# |                   |   æµ‹è¯•   |
# +-------------------+----------+
```

### æœåŠ¡å™¨ç®¡ç†

```bash
# åˆ›å»ºæœåŠ¡å™¨ä¼šè¯
tmux new -s server

# åˆ›å»ºå¤šä¸ªçª—å£
Ctrl+a c  # Web æœåŠ¡å™¨
Ctrl+a c  # æ•°æ®åº“
Ctrl+a c  # æ—¥å¿—ç›‘æ§

# åœ¨çª—å£é—´åˆ‡æ¢
Ctrl+a 0/1/2
```

## ğŸ”— æ¨èæ’ä»¶

### TPM (Tmux Plugin Manager)

```bash
# å®‰è£…
git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm

# åœ¨ ~/.tmux.conf æœ«å°¾æ·»åŠ 
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

run '~/.tmux/plugins/tpm/tpm'

# å®‰è£…æ’ä»¶ï¼šCtrl+a I
# æ›´æ–°æ’ä»¶ï¼šCtrl+a U
```

### æ¨èæ’ä»¶åˆ—è¡¨

- **tmux-sensible**: åŸºç¡€ä¼˜åŒ–é…ç½®
- **tmux-resurrect**: ä¿å­˜å’Œæ¢å¤ä¼šè¯
- **tmux-continuum**: è‡ªåŠ¨ä¿å­˜ä¼šè¯
- **tmux-yank**: æ”¹è¿›çš„å¤åˆ¶åŠŸèƒ½

## ğŸ“š å‚è€ƒèµ„æº

- [Tmux å®˜æ–¹æ–‡æ¡£](https://github.com/tmux/tmux/wiki)
- [Tmux Cheat Sheet](https://tmuxcheatsheet.com/)
- [Awesome Tmux](https://github.com/rothgar/awesome-tmux)
- [Tmux æ‰‹å†Œ](https://man7.org/linux/man-pages/man1/tmux.1.html)

## ğŸ¨ é…ç½®è¯´æ˜

æœ¬é…ç½®çš„ä¸»è¦ç‰¹ç‚¹ï¼š

- âœ… ç®€æ´å®ç”¨ï¼Œæ³¨é‡Šæ¸…æ™°
- âœ… æ— å‰ç¼€é”®å¿«é€Ÿå¯¼èˆªï¼ˆAlt+h/j/k/lï¼‰
- âœ… ç›´è§‚çš„åˆ†å±å¿«æ·é”®ï¼ˆ`v` å‚ç›´å’Œ `b` æ°´å¹³ï¼‰
- âœ… åŒæ¨¡å¼æ“ä½œï¼ˆæ”¯æŒå‰ç¼€é”®å’Œ Alt å¿«æ·é”®ï¼‰
- âœ… é¼ æ ‡æ”¯æŒï¼ˆå¯ç”¨é¼ æ ‡é€‰æ‹©çª—æ ¼ã€è°ƒæ•´å¤§å°ï¼‰
- âœ… ç¾è§‚çš„çŠ¶æ€æ 
- âœ… èˆ’é€‚çš„é…è‰²æ–¹æ¡ˆ

æ ¹æ®ä¸ªäººä¹ æƒ¯å¯ç»§ç»­è°ƒæ•´é…ç½®æ–‡ä»¶ `~/.tmux.conf`ã€‚
